FROM maven:3.6.3-adoptopenjdk-8

RUN apt-get update \
    && apt-get install -y gpg \
    && apt-get clean


#create user
ENV JENKINS_HOME /home/jenkins
ENV JENKINS_KEYS /var/lib/jenkins_keys
RUN mkdir "${JENKINS_HOME}"
RUN mkdir "${JENKINS_KEYS}"
RUN groupadd -g 800 jenkins
RUN useradd -g 800 -u 800 -d "${JENKINS_HOME}" jenkins
RUN chown jenkins:jenkins "${JENKINS_HOME}"
RUN chown jenkins:jenkins "${JENKINS_KEYS}"

VOLUME /home
VOLUME /var/lib/jenkins_keys

RUN ln -s "${JENKINS_HOME}/.gnupg" "${JENKINS_KEYS}/.gnupg"


#set user
USER jenkins

#set locale
ENV LANG nl_NL.UTF-8
ENV LANGUAGE nl_NL:nl
ENV LC_ALL nl_NL.UTF-8  
